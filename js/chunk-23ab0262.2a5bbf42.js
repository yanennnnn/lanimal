(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23ab0262"],{"29a8":function(t,a,e){},"5a12":function(t,a,e){"use strict";var n=e("29a8"),c=e.n(n);c.a},"62b3":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container mt-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t.carts.length?e("div",[e("div",{staticClass:"cart p-5 mt-5"},[e("h3",{staticClass:"h3 text-center mb-3"},[t._v("購物車")]),e("table",{staticClass:"table table-light"},[t._m(0),e("tbody",t._l(t.carts,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("a",{staticClass:"text-decoration-none text-danger align-self-center mx-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delCart(a.product.id)}}},[e("i",{staticClass:"fa fa-trash fa-2x"})])]),e("td",{staticClass:"align-middle"},[e("div",{staticClass:"bg-cover",style:{backgroundImage:"url("+a.product.imageUrl[0]+")"}})]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[e("div",{staticClass:"d-flex justify-content-center"},[e("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button",disabled:1===a.quantity},on:{click:function(e){return t.updateQty(a.product.id,a.quantity-1)}}},[t._v(" - ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.quantity,expression:"item.quantity"}],staticClass:"text-center",staticStyle:{width:"90px"},attrs:{type:"text",disabled:""},domProps:{value:a.quantity},on:{input:function(e){e.target.composing||t.$set(a,"quantity",e.target.value)}}}),e("button",{staticClass:"btn btn-outline-secondary rounded-0 btn-sm",attrs:{type:"button"},on:{click:function(e){return t.updateQty(a.product.id,a.quantity+1)}}},[t._v("+")])])]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.quantity*a.product.price))])])})),0)]),e("div",{staticClass:"d-flex justify-content-end"},[e("span",{staticClass:"align-self-center mr-2"},[t._v("總金額")]),e("span",{staticClass:"text-danger h4 mr-2"},[t._v(t._s(t.totalPrice))])])])]):e("div",{staticClass:"cart p-5 mt-5 nothing text-center\n      d-flex flex-column justify-content-center"},[e("p",[t._v("尚有商品在購物車，趕快去購買吧！")]),e("a",{staticClass:"btn btn-info w-25 mx-auto",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goProducts(a)}}},[t._v("前往商品區")])])],1)},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col",width:"30"}}),e("th",{attrs:{scope:"col",width:"90"}},[t._v("圖片")]),e("th",{attrs:{scope:"col"}},[t._v("商品")]),e("th",{staticClass:"text-center",attrs:{scope:"col",width:"120"}},[t._v("數量")]),e("th",{attrs:{scope:"col",width:"110"}},[t._v("售價")])])])}],i=(e("99af"),e("4160"),e("159b"),{name:"Cart",data:function(){return{carts:[],totalPrice:0,isLoading:!1}},methods:{getCart:function(){var t=this;t.isLoading=!0,t.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping")).then((function(a){t.carts=a.data.data,t.isLoading=!1,console.log(a),t.getTotalPrice()}))},getTotalPrice:function(){var t=this;t.totalPrice=0,t.carts.forEach((function(a){t.totalPrice+=a.product.price*a.quantity}))},delCart:function(t){var a=this;a.isLoading=!0,a.$http.delete("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping/").concat(t)).then((function(){a.getCart(),a.isLoading=!1}))},updateQty:function(t,a){var e=this;e.isLoading=!0;var n={product:t,quantity:a};e.$http.patch("".concat("https://course-ec-api.hexschool.io","/api/").concat("bc4c7f65-dcb1-4e02-97a6-6740e37fc6f8","/ec/shopping"),n).then((function(){e.getCart(),e.isLoading=!1})).catch((function(t){console.log(t.response.data.errors),e.isLoading=!1}))},goProducts:function(){this.$router.push({path:"/products"})}},created:function(){this.getCart()}}),s=i,o=(e("5a12"),e("2877")),r=Object(o["a"])(s,n,c,!1,null,"05e1e3f0",null);a["default"]=r.exports},"99af":function(t,a,e){"use strict";var n=e("23e7"),c=e("d039"),i=e("e8b5"),s=e("861d"),o=e("7b0b"),r=e("50c4"),d=e("8418"),l=e("65f0"),u=e("1dde"),f=e("b622"),p=e("2d00"),h=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",b=p>=51||!c((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=u("concat"),C=function(t){if(!s(t))return!1;var a=t[h];return void 0!==a?!!a:i(t)},y=!b||!m;n({target:"Array",proto:!0,forced:y},{concat:function(t){var a,e,n,c,i,s=o(this),u=l(s,0),f=0;for(a=-1,n=arguments.length;a<n;a++)if(i=-1===a?s:arguments[a],C(i)){if(c=r(i.length),f+c>g)throw TypeError(v);for(e=0;e<c;e++,f++)e in i&&d(u,f,i[e])}else{if(f>=g)throw TypeError(v);d(u,f++,i)}return u.length=f,u}})}}]);
//# sourceMappingURL=chunk-23ab0262.2a5bbf42.js.map